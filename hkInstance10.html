<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>10月案例点</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }

</style>
</head>
<body>
<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        padding-bottom: 0;
    }
</style>
<div id="map"></div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoidG9rZW4tZGZnZWd0IiwiYSI6ImNsNXJodGVpdjI3ZmUza253djVvdWlicGUifQ.w4_-0X6l__soxEBuZjyvIA';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/token-dfgegt/clgc7ycod001g01mh06c1qx35',
        center: [114.205,22.310],
        zoom: 11.4
    });

    map.on('load', () => {
        map.addSource('places', {
            'type': 'geojson',
            'data':{
            "type": "FeatureCollection",
            "name": "10月点",
            "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
            "features": [
            { "type": "Feature", "properties": { "Id": 1, "Name": "深水埗", "Instance": "男性的士司机被多名暴徒殴打至头破血流" }, "geometry": { "type": "Point", "coordinates": [ 114.163342259495906, 22.333255957871327 ] } },
            { "type": "Feature", "properties": { "Id": 2, "Name": "将军澳", "Instance": "一名男性市民被围堵及殴打" }, "geometry": { "type": "Point", "coordinates": [ 114.273297818824403, 22.314426426326225 ] } },
            { "type": "Feature", "properties": { "Id": 3, "Name": "旺角", "Instance": "围殴警员" }, "geometry": { "type": "Point", "coordinates": [ 114.172539542532533, 22.311404510848817 ] } },
            { "type": "Feature", "properties": { "Id": 4, "Name": "湾仔", "Instance": "暴徒四处纵火" }, "geometry": { "type": "Point", "coordinates": [ 114.181989257828349, 22.275936253198392 ] } }
            ]
            }
        })
        // Add a layer showing the places.
        map.addLayer({
            'id': 'places',
            'type': 'circle',
            'source': 'places',
            'paint': {
                'circle-color': '#8B0000',
                'circle-radius': 3,
                'circle-stroke-width': 1,
                'circle-stroke-color': 'white'
            }
        });
        // Create a popup, but don't add it to the map yet.
        const popup1 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'left'
        }).setLngLat([ 114.273297818824403, 22.314426426326225 ]).setHTML('<h1 style="color:#33CC66">将军澳</h1><h3>一名男性市民被围堵及殴打</h3><img src="https://i.postimg.cc/wvZM56gZ/10-1.png" width=200px />').addTo(map);
        const popup2 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'top-right'
        }).setLngLat([ 114.163342259495906, 22.333255957871327 ]).setHTML('<h1 style="color:#9966CC">深水埗</h1><h3>男性的士司机被多名暴徒殴打至头破血流</h3><img src="https://i.postimg.cc/QC7t0RMt/10-2.png" width=200px />').addTo(map);
        
        const popup3 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'bottom-left'
        }).setLngLat([ 114.172539542532533, 22.311404510848817 ]).setHTML('<h1 style="color:#FF66CC">旺角</h1><h3>围殴警员</h3><img src="https://i.postimg.cc/L4gn9ZVp/10-3.png" width=150px />').addTo(map);
        const popup4 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'300px',
            anchor:'left'
        }).setLngLat([ 114.181989257828349, 22.275936253198392 ]).setHTML('<h1 style="color:#FF7F50">湾仔</h1><h3>暴徒四处纵火</h3><img src="https://i.postimg.cc/MKkXvKsj/10-4.png" width=150px />').addTo(map);
    });

</script>

</body>
</html>