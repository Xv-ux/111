<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>9月案例点</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }

</style>
</head>
<body>
<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        padding-bottom: 0;
    }
</style>
<div id="map"></div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoidG9rZW4tZGZnZWd0IiwiYSI6ImNsNXJodGVpdjI3ZmUza253djVvdWlicGUifQ.w4_-0X6l__soxEBuZjyvIA';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/token-dfgegt/clgc6o2cs002k01oynwxo82p0',
        center: [114.131,22.361],
        zoom: 10.6
    });

    map.on('load', () => {
        map.addSource('places', {
            'type': 'geojson',
            'data':{
            "type": "FeatureCollection",
            "name": "9月点",
            "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:EPSG::4490" } },
            "features": [
            { "type": "Feature", "properties": { "Id": 0, "Name": "铜锣湾", "Instance": "示威者前往美国驻香港总领馆，乞求插手香港政治事务" }, "geometry": { "type": "Point", "coordinates": [ 114.189225473301718, 22.277664100226612 ] } },
            { "type": "Feature", "properties": { "Id": 0, "Name": "元朗街", "Instance": "群殴无辜居民" }, "geometry": { "type": "Point", "coordinates": [ 114.031764641240926, 22.441371017427731 ] } },
            { "type": "Feature", "properties": { "Id": 0, "Name": "金钟", "Instance": "在政府总部附件堵塞道路、破坏公物" }, "geometry": { "type": "Point", "coordinates": [ 114.154344765136216, 22.286025317042107 ] } }
            ]
            }
        })
        // Add a layer showing the places.
        map.addLayer({
            'id': 'places',
            'type': 'circle',
            'source': 'places',
            'paint': {
                'circle-color': '#8B0000',
                'circle-radius': 3,
                'circle-stroke-width': 1,
                'circle-stroke-color': 'white'
            }
        });
        // Create a popup, but don't add it to the map yet.
        const popup1 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'bottom-left'
        }).setLngLat([ 114.189225473301718, 22.277664100226612 ]).setHTML('<h1 style="color:#33CC66">铜锣湾</h1><h3>示威者前往美国驻香港总领馆，乞求插手香港政治事务</h3><img src="https://i.postimg.cc/rsw0jhrR/9-1.png" width=200px />').addTo(map);
        const popup2 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'top-right'
        }).setLngLat([ 114.031764641240926, 22.441371017427731 ]).setHTML('<h1 style="color:#9966CC">元朗街</h1><h3>群殴无辜居民</h3><img src="https://i.postimg.cc/cCkKbQR9/9-2.png" width=200px />').addTo(map);
        
        const popup3 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'240px',
            anchor:'bottom-right'
        }).setLngLat([ 114.154344765136216, 22.286025317042107 ]).setHTML('<h1 style="color:#FF66CC">金钟</h1><h3>在政府总部附件堵塞道路、破坏公物及纵火，并以砖块及汽油弹攻击政府总部及警务人员</h3><img src="https://i.postimg.cc/fTFt7fTk/9-3.png" width=200px />').addTo(map);

    });

</script>

</body>
</html>