<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>6月案例点</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }

</style>
</head>
<body>
<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        padding-bottom: 0;
    }
</style>
<div id="map"></div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoidG9rZW4tZGZnZWd0IiwiYSI6ImNsNXJodGVpdjI3ZmUza253djVvdWlicGUifQ.w4_-0X6l__soxEBuZjyvIA';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/token-dfgegt/clg20gi00000b01qqeuqryclf',
        center: [114.172,22.2763],
        zoom: 16.78
    });

    map.on('load', () => {
        map.addSource('places', {
            'type': 'geojson',
            'data':{
                "type": "FeatureCollection",
                "name": "6月点",
                "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:EPSG::4490" } },
                "features": [
                { "type": "Feature", "properties": { "Id": 0, "Instance": "发起“反修例”游行", "Name": "立法会综合大楼" }, "geometry": { "type": "Point", "coordinates": [ 114.170906767359341, 22.277874490426075 ] } },
                { "type": "Feature", "properties": { "Id": 1, "Instance": "非法集合，堵塞交通，冲击警方防线", "Name": "金钟一带" }, "geometry": { "type": "Point", "coordinates": [ 114.173428996025521, 22.276304046162227 ] } },
                { "type": "Feature", "properties": { "Id": 2, "Instance": "包围警察总部，涂污外墙，挑衅警员", "Name": "警察总部" }, "geometry": { "type": "Point", "coordinates": [ 114.172286854742723, 22.274686012678263 ] } },
                
            ]
                }
        })
        // Add a layer showing the places.
        map.addLayer({
            'id': 'places',
            'type': 'circle',
            'source': 'places',
            'paint': {
                'circle-color': '#8B0000',
                'circle-radius': 3,
                'circle-stroke-width': 1,
                'circle-stroke-color': 'white'
            }
        });
        // Create a popup, but don't add it to the map yet.
        const popup1 = new mapboxgl.Popup({
            closeButton: true,
            closeOnClick: false,
            maxWidth:'300px',
            anchor:'top-right',
            offset:5
        }).setLngLat([ 114.170906767359341, 22.277874490426075 ]).setHTML('<h1 style="color:#FF66CC">立法会综合大楼</h1><h3>发起“反修例”游行</h3><img src="https://i.postimg.cc/3w0HX3qs/6-1.png" width=250px />').addTo(map);
        const popup2 = new mapboxgl.Popup({
            closeButton: true,
            closeOnClick: false,
            maxWidth:'320px',
            anchor:'left',
            offset:5
        }).setLngLat([ 114.173428996025521, 22.276304046162227 ]).setHTML('<h1 style="color:#33CC66">金钟一带</h1><h3>非法集合，堵塞交通，冲击警方防线</h3><img src="https://i.postimg.cc/7YXDDs7W/6-2.png" width=230px height=150px />').addTo(map);

        const popup3 = new mapboxgl.Popup({
            offset:5,
            closeButton: true,
            closeOnClick: false,
            maxWidth:'320px',
            anchor:'bottom'
        }).setLngLat([ 114.172286854742723, 22.274686012678263 ]).setHTML('<h1 style="color:#9966CC">警察总部</h1><h3>包围警察总部，涂污外墙，挑衅警员</h3><img src="https://i.postimg.cc/tT0GDLQY/6-3.png" width=250px />').addTo(map);

    });

</script>

</body>
</html>